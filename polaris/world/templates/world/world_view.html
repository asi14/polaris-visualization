<!DOCTYPE html>
	<html>
		<head>
			<!-- essentials -->
			<meta charset="utf-8">
			<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

			<!-- bootstrap -->
			<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
			<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
			<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
			<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>

			<style>
			
				#map{
					height:600px;	
					width:auto;
				}
			
			</style>
		</head>
		
		<body>
		
			<div class = "container">
				<div class = "jumbotron text-center">
					<h1>Hello World</h1>
				</div>	
				<div id = "map"></div>
			</div>

		</body>

		<script>
		
			var map;
			console.log('map var created')

			function initMap() {
				console.log('method enered')
				map = new google.maps.Map(document.getElementById('map'), {
					center: {lat: 90, lng: 90},
					zoom: 1
				});
				console.log('Map Created')

				var markers = [];
				{% for coord in average_points %}
					markers.push(new google.maps.Marker({position:{lat: {{coord.1}}, lng: {{coord.0}}}, map: map}));
				{% endfor %}
				console.log('markers laid')
				
				var bounds = new google.maps.LatLngBounds();
				for(var i = 0; i < markers.length; i++){
					bounds.extend(markers[i].getPosition());	
				}
				map.fitBounds(bounds);
			}	
		
		</script>
		<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCzQ6ZjhBNtsK0vpLw62SICuxjP5ca-1dI&callback=initMap"
		    async defer></script>

	</html>
